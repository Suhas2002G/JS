<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">    
</head>
<body>
    <h1>Rock Paper Scissors Game</h1>
    <div class="game-container">
        <button class="player-btn" id="rock-btn"><img src="images/rock-emoji.png" alt=""></button>
        <button class="player-btn" id="paper-btn"><img src="images/paper-emoji.png" alt=""></button>
        <button class="player-btn" id="scissors-btn"><img src="images/scissors-emoji.png" alt=""></button>
        <p id="moves" class="info-display">Player Move :       |       Computer Move : </p>
        <p id="results" class="info-display">Result : </p>
        <p id="score" class="info-display">Wins : 0 , Loss : 0 , Tie : 0</p>
        <button class="player-btn js-autoplay-btn" id="">AutoPlay</button>
    </div>
    


    <script>
        score={
                win:0,
                lose:0,
                tie:0
            }

            document.body.addEventListener('keydown',(event)=>{
            switch(event.key){
                case 'R': 
                case 'r': playGame('Rock');break

                case 'P': 
                case 'p': playGame('Paper');break

                case 'S': 
                case 's': playGame('Scissors');
            }
        })

        const rockBtnElement=document.getElementById('rock-btn')
        rockBtnElement.addEventListener('click',()=>{playGame('Rock')})

        const paperBtnElement=document.getElementById('paper-btn')
        paperBtnElement.addEventListener('click',()=>{playGame('Paper')})

        const scissorsBtnElement=document.getElementById('scissors-btn')
        scissorsBtnElement.addEventListener('click',()=>{playGame('Scissors')})


        var autoplayBtnElement=document.querySelector('.js-autoplay-btn')
        autoplayBtnElement.addEventListener('click',autoplayMode)

        function autoplayMode(){
            // console.log('autoplay is clicked')
            setInterval(()=>{
            let computerGeneratedPlayerMove=generateComputerMove()
            playGame(computerGeneratedPlayerMove)
            
        },2000)
    }

        function playGame(playerMove)
        {
            let computerMove=generateComputerMove()
            console.log(`Player Move : ${playerMove}`)
            console.log(`Computer Move : ${computerMove}`)
    
            let result
            switch(playerMove)
            {
                case 'Rock':
                    switch(computerMove)
                    {
                        case 'Rock': result='Tie'
                        break
                        case 'Paper': result='Lose'
                        break
                        case 'Scissors':result='Win'
                    }
    
                break
                case 'Paper':
                switch(computerMove)
                    {
                        case 'Rock': result='Win'
                        break
                        case 'Paper': result='Tie'
                        break
                        case 'Scissors':result='Lose'
                    }
                break
                case 'Scissors':
                switch(computerMove)
                    {
                        case 'Rock': result='Lose'
                        break
                        case 'Paper': result='Win'
                        break
                        case 'Scissors':result='Tie'
                    }
            }
    
            console.log(`Result : ${result}`)
            switch(result)
                    {
                        case 'Lose': score.lose+=1
                        break
                        case 'Win': score.win+=1
                        break
                        case 'Tie' :score.tie+=1
                    }
            console.log(score)


            const displayMovesElement=document.querySelector('#moves')
            displayMovesElement.innerHTML=`Player Move : ${playerMove}      |       Computer Move : ${computerMove}`
    
            const displayResultElement=document.querySelector('#results')
            displayResultElement.innerHTML=`Result : ${result}`

            const displayScoreElement=document.querySelector('#score')
            displayScoreElement.innerHTML=`Wins : ${score.win} , Loss : ${score.lose} , Tie : ${score.tie}`
    }
        
        function generateComputerMove()
        {
            let randomNumber=Math.random()
            console.log(randomNumber)
            let computerMove
            if(randomNumber<=0.33)
            {
                computerMove='Rock'
            }
            else if(randomNumber>0.33 && randomNumber<=0.67)
            {
                computerMove='Paper'
            }
            else
            {
                computerMove='Scissors'
            }
            return computerMove
        }

        
        </script>
</body>
</html>